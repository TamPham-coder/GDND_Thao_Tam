<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω nh√¢n s·ª± - KTX VƒÉn Lang</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="qlnhansu_style.css">
</head>
<body>

    <div class="app-container" id="mainContainer">
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="image/logo.png" alt="VLU Logo" class="vlu-logo">
            </div>
            <nav class="sidebar-menu">
                <ul>
                    <li><a href="tongquan_qlktx_index.html"><i class="fa-solid fa-house"></i> T·ªïng quan (To√†n KTX)</a></li>
                    <li class="active"><a href="qlnhansu_index.html"><i class="fa-solid fa-user-tie"></i> Qu·∫£n l√Ω Nh√¢n s·ª±</a></li>
                    <li><a href="qlhopdong_index.html"><i class="fa-solid fa-file-contract"></i> Qu·∫£n l√Ω H·ª£p ƒë·ªìng</a></li>
                    <li><a href="baocao_tonghop_index.html"><i class="fa-solid fa-chart-pie"></i> B√°o c√°o T·ªïng h·ª£p</a></li>
                </ul>
            </nav>
        </aside>

        <div class="main-panel">
            <header class="top-header">
                <div class="header-left">
                    <button class="menu-toggle"><i class="fa-solid fa-bars"></i></button>
                    <h1 class="page-title">K√Ω T√∫c X√° Tr∆∞·ªùng ƒë·∫°i h·ªçc VƒÉn Lang</h1>
                </div>
                <div class="user-info">
                    <span class="user-name">Ph·∫°m Ch√≠ T√¢m - 71K29CNTT03</span>
                    <span class="user-role">Qu·∫£n l√Ω K√Ω t√∫c x√°</span>
                    <div class="user-avatar"><i class="fa-solid fa-user"></i></div>
                </div>
            </header>

            <div class="content-body">
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="card-img"><img src="https://img.freepik.com/free-vector/business-team-concept-illustration_114360-3875.jpg" alt="img"></div>
                        <div class="card-text"><h3>T·ªïng nh√¢n s·ª±</h3><div class="stat-number">2</div></div>
                    </div>
                    <div class="stat-card">
                        <div class="card-img"><img src="https://img.freepik.com/free-photo/young-man-working-laptop_23-2148436745.jpg" alt="img"></div>
                        <div class="card-text"><h3>Nh√¢n vi√™n ph√≤ng</h3><div class="stat-number">1</div></div>
                    </div>
                    <div class="stat-card">
                        <div class="card-img"><img src="https://img.freepik.com/free-photo/financial-manager-analyzing-stock-market_23-2149264042.jpg" alt="img"></div>
                        <div class="card-text"><h3>Nh√¢n vi√™n t√†i ch√≠nh</h3><div class="stat-number">1</div></div>
                    </div>
                </div>

                <div class="hr-section">
                    <div class="section-header"><i class="fa-solid fa-users"></i> Qu·∫£n l√Ω Nh√¢n s·ª±</div>
                    
                    <button class="btn-add-hr" id="btnOpenAddModal">
                        + Th√™m Nh√¢n s·ª±
                    </button>

                    <div class="filter-bar">
                        <div class="filter-item"><label>Vai tr√≤</label><select><option>T·∫•t c·∫£</option></select></div>
                        <div class="filter-item search-item"><label>T√¨m ki·∫øm</label><input type="text" placeholder="T√¨m theo t√™n, email..."></div>
                    </div>

                    <div class="table-responsive">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>H·ªå T√äN</th>
                                    <th>EMAIL</th>
                                    <th>S·ªê ƒêI·ªÜN THO·∫†I</th>
                                    <th>VAI TR√í</th>
                                    <th>TR·∫†NG TH√ÅI</th>
                                    <th>THAO T√ÅC</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#1</td>
                                    <td>
                                        <div class="user-cell">
                                            <div class="avatar-circle bg-orange">P</div>
                                            <div class="user-text"><strong class="row-name">Tr·∫ßn Minh Huy</strong><span>@nhanvienphong</span></div>
                                        </div>
                                    </td>
                                    <td>huy@ktx.edu.vn</td>
                                    <td>0900000000</td>
                                    <td><span class="badge-role">Nh√¢n vi√™n Ph√≤ng</span></td>
                                    <td><span class="badge-status">ƒêang Online</span></td>
                                    <td>
                                        <button class="btn-action btn-detail" onclick="showDetail('#1', 'Tr·∫ßn Minh Huy')">Chi ti·∫øt</button>
                                        <button class="btn-action btn-delete" onclick="showConfirm('delete', 'Tr·∫ßn Minh Huy')">X√≥a</button>
                                        <button class="btn-action btn-edit" onclick="showConfirm('lock', 'Tr·∫ßn Minh Huy ')">Kh√≥a</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#2</td>
                                    <td>
                                        <div class="user-cell">
                                            <div class="avatar-circle bg-orange">H</div>
                                            <div class="user-text"><strong class="row-name">H·ªì Th·ªã Ph∆∞∆°ng Th·∫£o</strong><span>@nhanvientaichinh</span></div>
                                        </div>
                                    </td>
                                    <td>thao@ktx.edu.vn</td>
                                    <td>0901233333</td>
                                    <td><span class="badge-role">Nh√¢n vi√™n T√†i ch√≠nh</span></td>
                                    <td><span class="badge-offline">ƒêang Offline</span></td>
                                    <td>
                                        <button class="btn-action btn-detail" onclick="showDetail('#2', 'H·ªì Th·ªã Ph∆∞∆°ng Th·∫£o')">Chi ti·∫øt</button>
                                        <button class="btn-action btn-delete" onclick="showConfirm('delete', 'H·ªì Th·ªã Ph∆∞∆°ng Th·∫£o')">X√≥a</button>
                                        <button class="btn-action btn-edit" onclick="showConfirm('lock', 'H·ªì Th·ªã Ph∆∞∆°ng Th·∫£o')">Kh√≥a</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modalAdd" style="display: none;">
        <div class="modal-box">
            <div class="modal-header">
                <h3>Ch·ªânh s·ª≠a th√¥ng tin nh√¢n s·ª±</h3>
                <button class="close-btn" onclick="closeAllModals()"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <form>
                <div class="form-group">
                    <label>H·ªç v√† t√™n <span class="required">*</span></label>
                    <input type="text" value="Tr·∫ßn Th·ªã B√¨nh">
                </div>
                <div class="form-group">
                    <label>Email <span class="required">*</span></label>
                    <input type="text" value="binh@ktx.edu.vn">
                </div>
                <div class="form-group">
                    <label>S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
                    <input type="text" value="0901234568">
                </div>
                <div class="form-group">
                    <label>Vai tr√≤ <span class="required">*</span></label>
                    <select>
                        <option selected>üë©‚Äçüíº Nh√¢n vi√™n qu·∫£n l√Ω ph√≤ng</option>
                        <option>üë®‚Äçüíº Nh√¢n vi√™n t√†i ch√≠nh</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-cancel" onclick="closeAllModals()"><i class="fa-solid fa-xmark"></i> H·ªßy</button>
                    <button type="button" class="btn-save" onclick="window.location.href='qlnhansu_index.html'">
                        L∆∞u
                    </button>

                </div>
            </form>
        </div>
    </div>

    <div class="modal-overlay" id="modalDetail" style="display: none;">
        <div class="modal-box">
            <div class="modal-header">
                <h3>Th√¥ng tin chi ti·∫øt</h3>
                <button class="close-btn" onclick="closeAllModals()"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="detail-content">
                <div class="detail-row"><strong>M√£ nh√¢n vi√™n:</strong> <span id="d-id">...</span></div>
                <div class="detail-row"><strong>H·ªç v√† t√™n:</strong> <span id="d-name">...</span></div>
                <div class="detail-row"><strong>Ng√†y sinh:</strong> <span>01/01/2005</span></div>
                <div class="detail-row"><strong>ƒê·ªãa ch·ªâ:</strong> <span>TP. H·ªì Ch√≠ Minh</span></div>
                <div class="detail-row"><strong>CCCD:</strong> <span>079123456789</span></div>
                <div class="detail-row"><strong>Ng√†y v√†o l√†m:</strong> <span>15/08/2023</span></div>
                <div class="detail-row"><strong>Ghi ch√∫:</strong> <span>Nh√¢n vi√™n g∆∞∆°ng m·∫´u, ho√†n th√†nh t·ªët nhi·ªám v·ª•.</span></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-save" style="width: 100%;" onclick="closeAllModals()">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="modalConfirm" style="display: none;">
        <div class="confirm-box">
            <div class="confirm-icon-circle" id="c-icon-bg">
                <i class="fa-solid fa-trash" id="c-icon"></i>
            </div>
            
            <h2 class="confirm-title" id="c-title">X√≥a Ph√≤ng A101?</h2>
            <p class="confirm-desc" id="c-desc">
                B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ph√≤ng n√†y kh√¥ng?
            </p>
            <p class="confirm-note" id="c-note">
                </p>

            <div class="confirm-actions">
                <button class="btn-conf-cancel" onclick="closeAllModals()">Kh√¥ng, quay l·∫°i</button>
                <button class="btn-conf-ok" id="c-btn-ok">ƒê·ªìng √Ω x√≥a</button>
            </div>
        </div>
    </div>

    <script>
        const mainContainer = document.getElementById('mainContainer');
        const modalAdd = document.getElementById('modalAdd');
        const modalDetail = document.getElementById('modalDetail');
        const modalConfirm = document.getElementById('modalConfirm');

        // H√†m chung ƒë·ªÉ ƒë√≥ng t·∫•t c·∫£ modal
        function closeAllModals() {
            modalAdd.style.display = 'none';
            modalDetail.style.display = 'none';
            modalConfirm.style.display = 'none';
            mainContainer.classList.remove('blur-effect');
        }

        // 1. M·ªü Modal Th√™m m·ªõi
        document.getElementById('btnOpenAddModal').onclick = function() {
            modalAdd.style.display = 'flex';
            mainContainer.classList.add('blur-effect');
        }

        // 2. M·ªü Modal Chi ti·∫øt
        function showDetail(id, name) {
            document.getElementById('d-id').innerText = id;
            document.getElementById('d-name').innerText = name;
            modalDetail.style.display = 'flex';
            mainContainer.classList.add('blur-effect');
        }

        // 3. M·ªü Modal X√°c nh·∫≠n (D√πng chung cho X√≥a v√† Kh√≥a)
        function showConfirm(type, name) {
            modalConfirm.style.display = 'flex';
            mainContainer.classList.add('blur-effect');
            
            const title = document.getElementById('c-title');
            const desc = document.getElementById('c-desc');
            const note = document.getElementById('c-note');
            const btnOk = document.getElementById('c-btn-ok');
            const icon = document.getElementById('c-icon');
            const iconBg = document.getElementById('c-icon-bg');

            if (type === 'delete') {
                // Giao di·ªán cho X√ìA (M√†u ƒë·ªè)
                icon.className = 'fa-solid fa-trash';
                iconBg.style.backgroundColor = '#ffebee'; // H·ªìng nh·∫°t
                icon.style.color = '#d32f2f'; // ƒê·ªè

                title.innerText = `X√≥a nh√¢n s·ª± ${name}?`;
                desc.innerText = 'B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a nh√¢n s·ª± n√†y kh·ªèi h·ªá th·ªëng kh√¥ng?';
                note.innerHTML = `<strong>L∆∞u √Ω:</strong> H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c. M·ªçi d·ªØ li·ªáu li√™n quan ƒë·∫øn nh√¢n s·ª± n√†y s·∫Ω b·ªã x√≥a vƒ©nh vi·ªÖn.`;
                
                btnOk.innerText = 'ƒê·ªìng √Ω x√≥a';
                btnOk.style.backgroundColor = '#d32f2f';
            } else {
                // Giao di·ªán cho KH√ìA (M√†u cam/v√†ng ho·∫∑c gi·ªØ ƒë·ªè t√πy √Ω, ·ªü ƒë√¢y m√¨nh ƒë·ªÉ ƒë·ªè cho gi·ªëng ·∫£nh m·∫´u nh∆∞ng ƒë·ªïi text)
                icon.className = 'fa-solid fa-lock';
                iconBg.style.backgroundColor = '#ffebee'; 
                icon.style.color = '#d32f2f';

                title.innerText = `Kh√≥a t√†i kho·∫£n ${name}?`;
                desc.innerText = 'B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën v√¥ hi·ªáu h√≥a t√†i kho·∫£n n√†y kh√¥ng?';
                note.innerHTML = `<strong>L∆∞u √Ω:</strong> Nh√¢n s·ª± s·∫Ω kh√¥ng th·ªÉ ƒëƒÉng nh·∫≠p v√†o h·ªá th·ªëng cho ƒë·∫øn khi t√†i kho·∫£n ƒë∆∞·ª£c m·ªü kh√≥a l·∫°i b·ªüi Admin.`;
                
                btnOk.innerText = 'X√°c nh·∫≠n kh√≥a';
                btnOk.style.backgroundColor = '#d32f2f';
            }
        }

        // ƒê√≥ng khi click ra ngo√†i
        window.onclick = function(event) {
            if (event.target == modalAdd || event.target == modalDetail || event.target == modalConfirm) {
                closeAllModals();
            }
        }
    </script>

</body>
</html>